- hosts: all
  roles:
    - install_jdk
    - maven
  tasks:
    - name: Build the project with Maven
      shell: mvn clean install -DskipTests
      args:
        chdir: "{{ library_path }}"  # Pointing to the directory with pom.xml
      vars:
        library_path: "{{ zuul.project.src_dir }}/{{ java_libraries[0].context }}"
      environment:
        MAVEN_HOME: "/opt/apache-maven-3.8.8"
        PATH: "{{ ansible_env.PATH }}:/opt/apache-maven-3.8.8/bin"
